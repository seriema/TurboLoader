language: cpp
sudo: required
dist: trusty

compiler:
- gcc

os:
- linux
- osx

before_install:
# --- RetroPie like environment ------------------------------------------------
# Setup the same gcc/g++ version
# http://askubuntu.com/a/26518
- if [ $TRAVIS_OS_NAME == linux ]; then sudo apt-get install -y gcc-4.7; fi
- if [ $TRAVIS_OS_NAME == linux ]; then sudo apt-get install -y g++-4.7; fi
- if [ $TRAVIS_OS_NAME == linux ]; then sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.7 10; fi
- if [ $TRAVIS_OS_NAME == linux ]; then sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.7 10; fi
# Install project dependencies
- if [ $TRAVIS_OS_NAME == linux ]; then sudo apt-get update; fi
- if [ $TRAVIS_OS_NAME == linux ]; then sudo apt-get install -y libsdl2-dev; fi

# --- OSX environment ----------------------------------------------------------
# Install project dependencies
- if [ $TRAVIS_OS_NAME == osx ]; then brew update; fi
- if [ $TRAVIS_OS_NAME == osx ]; then brew install sdl2; fi

# --- Generic setup ------------------------------------------------------------
- cmake .


script: make
